(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52356,e=>{"use strict";var s=e.i(28432),a=e.i(46149);function t(){let[e,t]=(0,s.useState)({loading:!0,user:null});return(0,s.useEffect)(()=>{let e=!0;a.supabase.auth.getUser().then(({data:s})=>{e&&t({loading:!1,user:s.user??null})});let{data:s}=a.supabase.auth.onAuthStateChange((s,a)=>{e&&t({loading:!1,user:a?.user??null})});return()=>{e=!1,s.subscription.unsubscribe()}},[]),e}e.s(["useUser",()=>t])},41628,e=>{"use strict";var s=e.i(17220),a=e.i(28432),t=e.i(19355),l=e.i(46149),r=e.i(52356);function i(){let e=(0,t.useRouter)(),{loading:i,user:c}=(0,r.useUser)(),[n,u]=(0,a.useState)([]),[d,o]=(0,a.useState)("");return((0,a.useEffect)(()=>{i||c||e.replace("/login")},[i,c,e]),(0,a.useEffect)(()=>{(async()=>{if(!c)return;o("");let{data:e,error:s}=await l.supabase.from("uploads").select("id,file_url,created_at").eq("user_id",c.id).order("created_at",{ascending:!1});if(s)return o(s.message);u(e??[])})()},[c]),i)?(0,s.jsx)("main",{className:"p-8",children:"Loading..."}):c?(0,s.jsxs)("main",{className:"min-h-screen p-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"내 이미지"}),(0,s.jsx)("p",{className:"mt-2 opacity-80",children:"내가 업로드한 이미지 목록입니다."}),d&&(0,s.jsx)("p",{className:"mt-4 text-sm opacity-80",children:d}),(0,s.jsx)("div",{className:"mt-6 grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:n.map(e=>(0,s.jsxs)("div",{className:"border rounded-xl p-3",children:[(0,s.jsx)("img",{src:e.file_url,alt:"upload",className:"w-full rounded"}),(0,s.jsx)("div",{className:"mt-2 text-xs opacity-70",children:new Date(e.created_at).toLocaleString()})]},e.id))}),(0,s.jsxs)("div",{className:"mt-6 space-x-4",children:[(0,s.jsx)("a",{className:"underline",href:"/upload",children:"업로드"}),(0,s.jsx)("a",{className:"underline",href:"/dashboard",children:"대시보드"})]})]}):null}e.s(["default",()=>i])}]);